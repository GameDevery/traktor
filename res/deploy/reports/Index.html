<html>
	<head>
		<title>Pipeline output report</title>
		<style type="text/css">
			body {
				background-color: #ffffff;
				font-family: Tahoma;
				font-size: 80%;
			}
			table {
				background-color: #f0f0e0;
				border-style: none;
				border-collapse:collapse;
				font-size: 90%;
				width: 100%;
				text-align: left;
			}
			tr, td {
				border: 1px solid #a0a090;
			}
			tr.alt {
				border: 1px solid #a0a090;
				background-color: #e0e0d0;
			}
			tr.total {
				border-style: none;
				background-color: #f5f5e5;
				font-weight: bold;
			}
			th, td {
				padding: 2px;
			}
			th {
				background-color: #f5f5e5;
			}
		</style>

<?--
		local db = Connection.connect("fileName=temp/Pipeline.db")

		local rs = db:executeQuery("select sum(dataSize) from Report_Texture")
		rs:next()
		local textureSize = rs:getInt32(0) / 1024

		local rs = db:executeQuery("select sum(size) from Report_Mesh")
		rs:next()
		local meshSize = rs:getInt32(0) / 1024

		local rs = db:executeQuery("select sum(size) from Report_Shader")
		rs:next()
		local shaderSize = rs:getInt32(0) / 1024

		local rs = db:executeQuery("select sum(size) from Report_Sound")
		rs:next()
		local soundSize = rs:getInt32(0) / 1024
--?>

		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<script type="text/javascript">
			google.load("visualization", "1", {packages:["corechart"]});
			google.setOnLoadCallback(drawChart);

			function drawChart() {
				var data = google.visualization.arrayToDataTable([
					['', ''],
					['Textures', <?-- output:print(textureSize) --?>],
					['Meshes', <?-- output:print(meshSize) --?>],
					['Shaders', <?-- output:print(shaderSize) --?>],
					['Sounds', <?-- output:print(soundSize) --?>]
				]);

				var options = {
//					title: 'Resources'
				};

				var chart = new google.visualization.PieChart(document.getElementById('piechart'));
				chart.draw(data, options);
			}
		</script>
	</head>
	<body>
		<center>
			<h1>Pipeline Report</h1>
			<a href="Textures.html">Textures</a>&nbsp;<a href="Meshes.html">Meshes</a>&nbsp;<a href="Shaders.html">Shaders</a>&nbsp;<a href="Sounds.html">Sounds</a><br/>
			<div id="piechart" style="width: 900px; height: 500px;"></div>
		</center>
	</body>
</html>

