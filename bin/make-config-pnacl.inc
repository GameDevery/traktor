# Configuration file

# Toolchain and SDK configuration.
TOOLCHAIN_BIN=$(NACL_SDK_ROOT)/toolchain/mac_pnacl/bin
NACL_CONFIG=python $(NACL_SDK_ROOT)/tools/nacl_config.py
NACL_SDK_INCLUDE=$(shell $(NACL_CONFIG) -t pnacl --include-dirs)

# Build tools.
CC=$(shell $(NACL_CONFIG) -t pnacl --tool=c++)

CC_FLAGS_COMMON=-fno-strict-aliasing -fno-common -pthread -MMD -D __PNACL__ $(foreach inc,$(NACL_SDK_INCLUDE),-I$(inc))

CC_FLAGS_DEBUG_SHARED=$(CC_FLAGS_COMMON) -g -D _UNICODE -D UNICODE -fPIC
CC_FLAGS_RELEASE_SHARED=$(CC_FLAGS_COMMON) -O2 -D _UNICODE -D UNICODE -D NDEBUG -fPIC

CC_FLAGS_DEBUG_STATIC=$(CC_FLAGS_COMMON) -g -D _UNICODE -D UNICODE
CC_FLAGS_RELEASE_STATIC=$(CC_FLAGS_COMMON) -O2 -D _UNICODE -D UNICODE -D NDEBUG

CC_FLAGS_DEBUG_EXECUTABLE=$(CC_FLAGS_COMMON) -g -D _UNICODE -D UNICODE
CC_FLAGS_RELEASE_EXECUTABLE=$(CC_FLAGS_COMMON) -O2 -D _UNICODE -D UNICODE -D NDEBUG

AR=$(shell $(NACL_CONFIG) -t pnacl --tool=ar)
AR_FLAGS_COMMON=-r -s
AR_FLAGS_DEBUG_STATIC=$(AR_FLAGS_COMMON)
AR_FLAGS_RELEASE_STATIC=$(AR_FLAGS_COMMON)

LINK=$(shell $(NACL_CONFIG) -t pnacl --tool=c++) $(CC_FLAGS_COMMON)
LINK_LIBS=

ADDITIONAL_INCLUDE_PATHS=
ADDITIONAL_LIBRARY_PATHS=

BINARY_INCLUDE=BinaryInclude
